# Java Random类

## 1. 用处

​    Random类常用来创建一些随机数。

​    Random类中实现的随机算法是伪随机，也就是有规则的随机。在进行随机时，随机算法的起源数字称为种子数(seed)，在种子数的基础上进行一定的变换，从而产生需要的随机数字。

​     相同种子数的Random对象，相同次数生成的随机数字是完全相同的。也就是说，两个种子数相同的Random对象，第一次生成的随机数字完全相同，第二次生成的随机数字也完全相同。这点在生成多个随机数字时需要特别注意。

## 2. 构造函数

```java
public Random()
public Random(long seed)
```

- 第一个构造方法使用一个和当前系统时间对应的相对时间有关的数字作为种子数，然后使用这个种子数构造Random对象。
- 第二个构造方法可以通过制定一个种子数进行创建。

## 3. 常用方法

```java
boolean nextBoolean() //返回下一个伪随机数，它是取自此随机数生成器序列的均匀分布的boolean值。
void nextBytes(byte[] bytes) //生成随机字节并将其置于用户提供的 byte 数组中。
double nextDouble() //返回下一个伪随机数，它是取自此随机数生成器序列的、在0.0和1.0之间均匀分布的 double值。
float nextFloat() //返回下一个伪随机数，它是取自此随机数生成器序列的、在0.0和1.0之间均匀分布float值。
double nextGaussian()    //返回下一个伪随机数，它是取自此随机数生成器序列的、呈高斯（“正态”）分布的double值，其平均值是0.0标准差是1.0。 
int nextInt() //返回下一个伪随机数，它是此随机数生成器的序列中均匀分布的 int 值。 
int nextInt(int n) //返回一个伪随机数，它是取自此随机数生成器序列的、在（包括和指定值（不包括）之间均匀分布的int值。
long nextLong() //返回下一个伪随机数，它是取自此随机数生成器序列的均匀分布的 long 值。
void setSeed(long seed) //使用单个 long 种子设置此随机数生成器的种子。
```

## 4. 简单例子

1. 生成 `[0,1.0)` 区间的小数

   ```java
   double d1 = r.nextDouble();
   ```

   直接使用 `nextDouble()` 方法获得

2. 生成 `[0,5.0)` 区间的小数

   ```java
   double d2 = r.nextDouble() * 5;
   ```

   因为 `nextDouble`方法生成的数字区间是 `[0,1.0)`，将该区间扩大5倍即是要求的区间。

   同理，生成 `[0,d)` 区间的随机小数，d为任意正的小数，则只需要将 `nextDouble` 方法的返回值乘以d即可。

3. 生成 `[1,2.5)` 区间的小数

   ```java
   double d3 = r.nextDouble() * 1.5 + 1;
   ```

   生成 `[1,2.5`)` 区间的随机小数，则只需要首先生成 `[0,1.5)` 区间的随机数字，然后将生成的随机数区间加1即可。

   同理，生成任意非从0开始的小数区间 `[d1,d2)` 范围的随机数字(其中d1不等于0)，则只需要首先生成 `[0,d2-d1)` 区间的随机数字，然后将生成的随机数字区间加上d1即可。

4. 生成任意整数

   ```java
   int n1 = r.nextInt();
   ```

   直接使用nextInt方法即可。

5. 生成[0,10)区间的整数

   ```java
   int n2 = r.nextInt(10);
   
   n2 = Math.abs(r.nextInt() % 10);
   
   /*
   以上两行代码均可生成[0,10)区间的整数。
   
   第一种实现使用Random类中的nextInt(int n)方法直接实现。
   
   第二种实现中，首先调用nextInt()方法生成一个任意的int数字，该数字和10取余以后生成的数字区间为(-10,10)，然后再对该区间求绝对值，则得到的区间就是[0,10)了。
   
   同理，生成任意[0,n)区间的随机整数，都可以使用如下代码：
   */
   
   int n2 = r.nextInt(n);
   
   n2 = Math.abs(r.nextInt() % n);
   ```

6. 生成 `[0,10]` 区间的整数

   ```java
   int n3 = r.nextInt(11);
   
   n3 = Math.abs(r.nextInt() % 11);
   
   // 相对于整数区间，[0,10]区间和[0,11)区间等价，所以即生成[0,11)区间的整数。
   ```

7. 生成 `[-3,15)` 区间的整数

   ```java
   int n4 = r.nextInt(18) - 3;
   
   n4 = Math.abs(r.nextInt() % 18) - 3;
   
   // 生成非从0开始区间的随机整数，可以参看上面非从0开始的小数区间实现原理的说明。
   ```

   